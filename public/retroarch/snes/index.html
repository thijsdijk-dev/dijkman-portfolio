<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SNES — RetroArch</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:40px;line-height:1.4}
    code{background:#f3f3f3;padding:2px 6px;border-radius:6px}
    .muted{opacity:.75}
  </style>
</head>
<body>
  <h1>SNES start…</h1>
  <p class="muted" id="msg">Launcher bereidt RetroArch voor en start de game.</p>

<script>
(async () => {
  // >>> PAS DIT AAN AAN JOUW SITUATIE <<<
  const CORE_NAME = "Snes9x"; // probeer ook "Beetle SNES", "bsnes", afhankelijk van je build
  const ROM_URL   = "/retroarch/roms/sure-instinct.sfc"; // zet hier jouw .sfc neer

  const msg = (t) => document.getElementById("msg").textContent = t;

  // 1) ROM check (vriendelijke fout ipv leeg/zwart scherm)
  try {
    const r = await fetch(ROM_URL, { method: "HEAD" });
    if (!r.ok) {
      msg(`ROM niet gevonden (${r.status}). Zet een SNES ROM neer op: ${ROM_URL}`);
      return;
    }
  } catch (e) {
    msg(`Kan ROM niet checken. Bestaat deze URL? ${ROM_URL}`);
    return;
  }

  // 2) Zet meerdere keys, omdat de web-launcher per build kan verschillen
  const payload = { core: CORE_NAME, rom: ROM_URL, system: "snes" };
  const candidates = [
    "retroarch.launch", "retroarch.launcher", "ra.launch", "ra.web.launch",
    "selectedCore", "selected_core", "core", "ra_core", "libretro_core",
    "selectedContent", "selected_content", "content", "ra_content"
  ];
  for (const k of candidates) {
    try { localStorage.setItem(k, JSON.stringify(payload)); } catch {}
  }

  // Ook plain string varianten (sommige launchers verwachten dat)
  try { localStorage.setItem("core", CORE_NAME); } catch {}
  try { localStorage.setItem("content", ROM_URL); } catch {}

  // 3) Redirect naar RetroArch root
  msg("Doorsturen naar RetroArch…");
  location.href = "/retroarch/";
})();
</script>

  <p class="muted">Als het niet direct start: open <code>/retroarch/</code>, kies de SNES core en laad de ROM uit <code>/retroarch/roms/</code>. Daarna werkt one-click meestal wél (cache/config is dan gezet).</p>
</body>
</html>
