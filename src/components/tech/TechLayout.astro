---
import BaseLayout from "../../layouts/BaseLayout.astro";

const {
  title = "Tech",
  toc = [],
} = Astro.props;
---

<BaseLayout title={`${title} — Thijs Dijkman`}>
  <div class="wrap">
    <header class="topbar">
      <a class="back" href="/">← Home</a>
      <div class="spacer"></div>
      <a class="pill" href="/services">Services</a>
      <a class="pill" href="/homelab">Homelab</a>
      <a class="pill" href="/cv">CV</a>
    </header>

    <div class="layout">
      <aside class="toc">
        <div class="tocTitle">Inhoud</div>
        <nav>
          {toc.map((item) => (
            <a href={`#${item.id}`}>{item.label}</a>
          ))}
        </nav>
      </aside>

      <main class="main">
        <slot />
      </main>
    </div>
  </div>
</BaseLayout>

<style>
  .wrap{ max-width: 1100px; margin: 0 auto; padding: 28px; }
  .topbar{ display:flex; align-items:center; gap:10px; margin-bottom: 18px; }
  .spacer{ flex:1; }
  .back{ opacity:.85; text-decoration:none; }
  .pill{
    text-decoration:none;
    border:1px solid var(--border-2);
    background: var(--panel);
    padding: 8px 10px;
    border-radius: 999px;
    font-size: 13px;
  }

  .layout{ display:grid; grid-template-columns: 240px 1fr; gap: 18px; }
  .toc{
    position: sticky;
    top: 18px;
    align-self: start;
    border:1px solid var(--border);
    border-radius: var(--radius);
    background: var(--panel);
    padding: 14px;
  }
  .tocTitle{ font-size: 12px; opacity:.75; margin-bottom: 10px; text-transform: uppercase; letter-spacing: .08em; }
  .toc a{
    display:block;
    padding: 8px 10px;
    border-radius: 10px;
    text-decoration:none;
    opacity:.9;
  }
  .toc a:hover{ background: rgba(255,255,255,.04); }

  @media (max-width: 900px){
    .layout{ grid-template-columns: 1fr; }
    .toc{ position: static; }
  }
</style>
